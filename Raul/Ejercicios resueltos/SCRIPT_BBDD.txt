CREATE DATABASE `konectia` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;

CREATE TABLE CLIENTES(
	ID INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	NOMBRE VARCHAR(255) NOT NULL,
	OBSERVACIONES TEXT NULL,
	DIRECCION VARCHAR(100) NULL,
	LOCALIDAD VARCHAR(100) NULL,
	CP VARCHAR(5) NULL, 
	CONTACTO VARCHAR(100) NULL,
	TELEFONO VARCHAR(20) NULL,
	FAX VARCHAR(20) NULL,
	EMAIL VARCHAR(20) NULL,
	PUNTUACION INT(5) NOT NULL DEFAULT 0.0,
	FECHA_ALTA DATETIME NOT NULL,
	ULT_FECHA DATETIME NOT NULL,
	ACTIVO BIT(1) NOT NULL 
);

CREATE TABLE PROVEEDORES(
	ID INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	NOMBRE VARCHAR(255) NOT NULL,
	OBSERVACIONES TEXT NULL,
	DIRECCION VARCHAR(100) NULL,
	LOCALIDAD VARCHAR(100) NULL,
	CP VARCHAR(5) NULL, 
	CONTACTO VARCHAR(100) NULL,
	TELEFONO VARCHAR(20) NULL,
	FAX VARCHAR(20) NULL,
	EMAIL VARCHAR(20) NULL,
	FECHA_ALTA DATETIME NOT NULL,
	ULT_FECHA DATETIME NOT NULL,
	ACTIVO BIT(1) NOT NULL 
);

CREATE TABLE TRABAJOS (
	ID INT(10) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	NOMBRE VARCHAR(100) NOT NULL,
    DESCRIPCION TEXT NULL,
	ID_CLIENTE INT(11) NOT NULL,
	ID_PROVEEDOR INT(11) NOT NULL,
    ID_TIPO_TRABAJO INT(10) NOT NULL,
	PRECIO FLOAT(16,2) NULL DEFAULT 0.0,
    FECHA DATE NULL,
    FECHA_ALTA DATETIME NOT NULL,
    ULT_FECHA DATETIME NOT NULL,
	ACTIVO BIT(1) NOT NULL 
);

CREATE TABLE TIPO_TRABAJO(
    ID INT(10) NOT NULL AUTO_INCREMENT PRIMARY KEY,
    NOMBRE VARCHAR(100) NOT NULL,
    FECHA_ALTA DATETIME NOT NULL,
    ULT_FECHA DATETIME NOT NULL,
	ACTIVO BIT(1) NOT NULL 
    );
	
CREATE TABLE TIPOS_TRABAJO_PNTUACION (
    ID INT(10) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	ID_TRABAJO INT(11) NOT NULL,
	FECHA_DESDE DATE NOT NULL,
    FECHA_HASTA DATE NOT NULL,
	PUNTUACION INT(5) NOT NULL
	FECHA_ALTA DATETIME NOT NULL,
	ULT_FECHA DATETIME NOT NULL,
	ACTIVO BIT(1) NOT NULL 
    );

	